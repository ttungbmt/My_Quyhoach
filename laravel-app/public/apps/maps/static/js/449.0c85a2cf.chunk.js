"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[449],{71449:function(e,t,n){n.r(t),n.d(t,{default:function(){return Y}});var a=n(29439),r=n(88391),s=n(1413),i=n(45987),c=n(78886),o=n(47290),l=n(15866),u=n(95639),d=n(71027),h=n(99498),x=n(56240),m=n(92182),f=n(72369),p=n(74165),j=n(15861),g=n(35822),v=n(64975),y=n(43144),Z=n(15671),b=n(63387),T=n.n(b),w=new((0,y.Z)((function e(){(0,Z.Z)(this,e),this.getThuadatByInfo=function(e){return T().post("/api/thuadat-by-info",e)},this.getThuadatByLocation=function(e){return T().post("/api/thuadat-by-location",e)},this.getThuadatByCoords=function(e){return T().post("/api/thuadat-by-coords",e)}}))),N=(0,g.Z)((function(e,t){return{tabIndex:0,setTabIndex:function(t){return e({tabIndex:t})},provider:"meeymap",placeId:"",loading:!1,query:"",setQuery:function(t){return e({query:t})},resetAll:function(){e({query:"",searchData:{},autoSuggestData:{},geocodeData:{},placeOpen:!1,placeData:{}})},autoSuggestData:{},autoSuggest:function(){var n=(0,j.Z)((0,p.Z)().mark((function n(){var a,r,s,i;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t(),r=a.query,s=a.searchProvider,e({loading:!0}),!(r.length>1)){n.next=9;break}return n.next=5,s.autoSuggest({query:r});case 5:i=n.sent,e({autoSuggestData:i}),n.next=10;break;case 9:e({autoSuggestData:[]});case 10:e({loading:!1});case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),placeOpen:!1,setPlaceOpen:function(t){return e({placeOpen:t})},placeData:{},getPlace:function(){var n=(0,j.Z)((0,p.Z)().mark((function n(a){var r,s,i,c;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t(),s=r.searchProvider,e({loading:!0}),n.next=4,s.place({place_id:a});case 4:return i=n.sent,n.next=7,w.getThuadatByLocation({location:i.geometry.location});case 7:c=n.sent,console.log(c);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),getThuadatByInfo:function(){var t=(0,j.Z)((0,p.Z)().mark((function t(n){var a,r;return(0,p.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({loading:!0}),t.next=3,w.getThuadatByInfo(n);case 3:a=t.sent,r=a.data,console.log(r),e({loading:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getThuadatByCoords:function(){var t=(0,j.Z)((0,p.Z)().mark((function t(n){var a,r;return(0,p.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({loading:!0}),t.next=3,w.getThuadatByCoords(n);case 3:a=t.sent,r=a.data,console.log(r),e({loading:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),{computed:{searchProvider:function(){return new v.a[this.provider]}}}),k=N,S=n(23712),C=["fields"];function _(e){var t=e.index,n=e.actions,s=(0,r.useState)(null),i=(0,a.Z)(s,2),c=i[0],o=i[1],h=Boolean(c),x=function(){return o(null)};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(l.Z,{size:"small",onClick:function(e){return o(e.currentTarget)},children:(0,S.jsx)(f.Z,{})}),(0,S.jsxs)(u.Z,{anchorEl:c,open:h,onClose:x,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,S.jsxs)(d.Z,{onClick:function(){x(),n.insert(t,{x:"",y:""})},children:[(0,S.jsx)("i",{className:"fa-solid fa-circle-plus text-blue mr-10 text-[20px]"})," Th\xeam d\xf2ng tr\xean"]}),(0,S.jsxs)(d.Z,{onClick:function(){x(),n.remove(t)},children:[(0,S.jsx)("i",{className:"fa-solid fa-circle-trash text-red mr-10 text-[20px]"})," X\xf3a d\xf2ng n\xe0y"]}),(0,S.jsxs)(d.Z,{onClick:function(){x(),n.insert(t+1,{x:"",y:""})},children:[(0,S.jsx)("i",{className:"fa-solid fa-circle-plus text-green mr-10 text-[20px]"})," Th\xeam d\xf2ng d\u01b0\u1edbi"]})]})]})}var P=function(){var e=k("getThuadatByCoords"),t=(0,c.cI)({defaultValues:{toados:[{x:"",y:""},{x:"",y:""},{x:"",y:""},{x:"",y:""}]}}),n=t.control,a=t.handleSubmit,r=(0,c.Dq)({control:n,name:"toados"}),l=r.fields,u=(0,i.Z)(r,C);return(0,S.jsx)("div",{className:"m-12",children:(0,S.jsx)(c.RV,(0,s.Z)((0,s.Z)({},t),{},{children:(0,S.jsxs)("form",{onSubmit:a(e),children:[(0,S.jsx)(m.Z,{severity:"warning",className:"text-sm flex items-center mb-20",children:"S\u1eed d\u1ee5ng h\u1ec7 t\u1ecda \u0111\u1ed9 Qu\u1ed1c gia VN2000 \u0111\u1ec3 t\xecm ki\u1ebfm"}),(0,S.jsx)(o.wg,{name:"ma_tp",label:"T\u1ec9nh/ TP",url:"/api/dir/hc-tinh"}),(0,S.jsxs)("table",{className:"mt-12 mx-12",children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{className:"font-medium pr-12",children:"#"}),(0,S.jsx)("th",{className:"font-medium",children:"T\u1ecda \u0111\u1ed9 X"}),(0,S.jsx)("th",{className:"font-medium",children:"T\u1ecda \u0111\u1ed9 Y"}),(0,S.jsx)("th",{})]})}),(0,S.jsx)("tbody",{children:l.map((function(e,t){return(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{className:"w-24 pr-12",children:(0,S.jsx)("div",{className:"rounded-full bg-blue-400 text-white p-6 text-xs flex items-center justify-center w-20 h-20",children:t+1})}),(0,S.jsx)("td",{className:"px-8",children:(0,S.jsx)(o.UP,{name:"toados.".concat(t,".x"),variant:"standard",placeholder:"1199748.84"})}),(0,S.jsx)("td",{className:"px-8",children:(0,S.jsx)(o.UP,{name:"toados.".concat(t,".y"),variant:"standard",placeholder:"611245.93"})}),(0,S.jsx)("td",{children:(0,S.jsx)(_,{index:t,actions:u})})]},e.id)}))})]}),(0,S.jsx)(h.Z,{fullWidth:!0,className:"mt-24",children:"T\u1ea3i l\xean t\u1eadp tin t\u1ecda \u0111\u1ed9 t\u1eeb m\xe1y"}),(0,S.jsxs)(x.Z,{className:"flex justify-center mt-24 gap-12",children:[(0,S.jsx)(h.Z,{color:"secondary",variant:"outlined",children:"Nh\u1eadp l\u1ea1i"}),(0,S.jsx)(h.Z,{color:"primary",variant:"outlined",type:"submit",children:"T\xecm ki\u1ebfm"})]}),(0,S.jsx)(o.oj,{form:"toadoForm"})]})}))})};var I=function(){var e=k("getThuadatByInfo"),t=(0,c.cI)();return(0,S.jsx)("div",{className:"p-12",children:(0,S.jsxs)(c.RV,(0,s.Z)((0,s.Z)({},t),{},{children:[(0,S.jsx)(o.oj,{form:"sothuaForm"}),(0,S.jsxs)("form",{onSubmit:t.handleSubmit(e),children:[(0,S.jsx)(o.wg,{name:"ma_tp",label:"T\u1ec9nh/ TP",url:"/api/dir/hc-tinh"}),(0,S.jsx)(o.wg,{name:"ma_qh",label:"Qu\u1eadn huy\u1ec7n",url:"/api/dir/hc-quan?ma_tp={ma_tp}",depends:["ma_tp"]}),(0,S.jsx)(o.wg,{name:"ma_px",label:"Ph\u01b0\u1eddng x\xe3",url:"/api/dir/hc-phuong?ma_qh={ma_qh}",depends:["ma_qh"]}),(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-12",children:[(0,S.jsx)(o.UP,{name:"sothua",label:"S\u1ed1 th\u1eeda \u0111\u1ea5t"}),(0,S.jsx)(o.UP,{name:"soto",label:"S\u1ed1 t\u1edd b\u1ea3n \u0111\u1ed3"})]}),(0,S.jsxs)(x.Z,{className:"flex justify-center mt-12 gap-12",children:[(0,S.jsx)(h.Z,{color:"secondary",variant:"outlined",children:"Nh\u1eadp l\u1ea1i"}),(0,S.jsx)(h.Z,{color:"primary",variant:"outlined",type:"submit",children:"T\xecm ki\u1ebfm"})]})]})]}))})},B=n(8991),q=n(31417),z=n(57194),D=n(7790),F=n(43747),R=n(86163),V=n(32885),E=n(4574);function O(e,t,n){void 0===t&&(t=0),void 0===n&&(n=[]);var a=function(e,t){void 0===t&&(t=0);var n=(0,r.useRef)(!1),a=(0,r.useRef)(),s=(0,r.useRef)(e),i=(0,r.useCallback)((function(){return n.current}),[]),c=(0,r.useCallback)((function(){n.current=!1,a.current&&clearTimeout(a.current),a.current=setTimeout((function(){n.current=!0,s.current()}),t)}),[t]),o=(0,r.useCallback)((function(){n.current=null,a.current&&clearTimeout(a.current)}),[]);return(0,r.useEffect)((function(){s.current=e}),[e]),(0,r.useEffect)((function(){return c(),o}),[t]),[i,o,c]}(e,t),s=a[0],i=a[1],c=a[2];return(0,r.useEffect)(c,n),[s,i]}var U=n(12611),M=n.n(U),Q="diachiForm";var A=function(){var e=(0,E.Z)("getFormValues")(Q),t=M().defaultTo(null===e||void 0===e?void 0:e.diachi,""),n=k("autoSuggestData, setQuery, autoSuggest, getPlace"),r=(0,a.Z)(n,4),i=r[0],u=r[1],d=r[2],h=r[3],x=(0,c.cI)({});O((function(){u(t),d()}),400,[t]);var f=function(){var e=(0,j.Z)((0,p.Z)().mark((function e(t){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,S.jsxs)("div",{children:[(0,S.jsx)(c.RV,(0,s.Z)((0,s.Z)({},x),{},{children:(0,S.jsxs)("form",{onSubmit:x.handleSubmit(f),className:"p-12",children:[(0,S.jsx)(o.UP,{name:"diachi",label:"\u0110\u1ecba ch\u1ec9",InputProps:{endAdornment:(0,S.jsx)(B.Z,{position:"end",children:t.length>1?(0,S.jsx)(l.Z,{edge:"end",onClick:function(){return x.reset()},children:(0,S.jsx)(R.Z,{})}):(0,S.jsx)(V.Z,{})})}}),(0,S.jsx)(o.oj,{form:Q})]})})),M().isEmpty(i)&&(0,S.jsx)(m.Z,{severity:"info",className:"mx-12 text-sm flex items-center",children:"B\u1ea1n vui l\xf2ng nh\u1eadp t\u1eeb kh\xf3a (\u0111\u1ecba ch\u1ec9, v\u1ecb tr\xed, t\u1ecda \u0111\u1ed9) \u0111\u1ec3 tra c\u1ee9u th\u1eeda \u0111\u1ea5t"}),!M().isEmpty(i)&&(0,S.jsx)("div",{className:"border-t border-b",children:(0,S.jsx)(q.Z,{className:"divide-y p-0",children:M().map(i,(function(e,t){return(0,S.jsxs)(z.ZP,{button:!0,sx:{border:"inherit"},onClick:function(){return h(e.place_id)},children:[(0,S.jsx)(D.Z,{sx:{minWidth:36},children:(0,S.jsx)("svg",{width:24,height:24,xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M12 1a9 9 0 014.252 16.933c-1.719.918-3.151 2.893-3.77 4.704h-.001a.502.502 0 01-.962 0h-.001c-.619-1.811-2.051-3.786-3.77-4.704A9 9 0 0112 1zm0 6a3 3 0 110 6 3 3 0 010-6z",fill:"#fe9746"})})}),(0,S.jsx)(F.Z,{primary:e.main_text,secondary:M().upperFirst(e.secondary_text),secondaryTypographyProps:{className:"text-sm text-gray-500 pt-4"}})]},t)}))})})]})},L=n(30817),W=n(45681),X=n(16785);var Y=function(){var e=k("tabIndex, setTabIndex"),t=(0,a.Z)(e,2),n=t[0],r=t[1],s=[{label:"T\u1ecda \u0111\u1ed9",content:P},{label:"S\u1ed1 th\u1eeda \u0111\u1ea5t",content:I},{label:"\u0110\u1ecba ch\u1ec9",content:A}];return(0,S.jsx)(X.Z,{title:"T\xecm ki\u1ebfm th\u1eeda \u0111\u1ea5t",content:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(L.Z,{value:n,onChange:function(e,t){return r(t)},variant:"fullWidth",className:"border-b",children:s.map((function(e,t){var n=e.label;return(0,S.jsx)(W.Z,{className:"text-14 min-w-64 mx-4 px-12",label:n},t)}))}),(0,S.jsx)("div",{children:s.map((function(e,t){var a=e.content;return n===t&&(0,S.jsx)(a,{},t)}))})]})})}},72369:function(e,t,n){var a=n(95318);t.Z=void 0;var r=a(n(15145)),s=n(23712),i=(0,r.default)((0,s.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.Z=i},32885:function(e,t,n){var a=n(95318);t.Z=void 0;var r=a(n(15145)),s=n(23712),i=(0,r.default)((0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=i}}]);