"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[657],{59464:function(e,t,n){n.d(t,{Z:function(){return g}});var a=n(81087),r=n(88391),i=n(26294),s=n(15866),o=n(5784),l=n(40099),c=(n(9893),n(33163)),u=n(23712),d=(0,a.ZP)("div")((function(e){e.theme,e.config;return{minHeight:75,background:"url(/images/backgrounds/map_1.png) no-repeat 150px 0 #ffffff",borderBottom:"1px solid rgba(0,0,0,0.07)",display:"flex",padding:"10px 10px 10px 20px",alignItems:"center",justifyContent:"space-between",".site-logo":{height:50}}}));function m(e){var t=e.back,n=e.title,a=(0,l.TH)(),r=(0,i.O)("NAME"),m=n;return a.pathname===(0,i.O)("HOMEPAGE")&&(r=n,m=(0,i.O)("NAME")),(0,u.jsxs)(d,{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"site-nagigation",children:t&&(0,u.jsx)(s.Z,{size:"medium",onClick:function(){return o.Z.goBack()},children:(0,u.jsx)("i",{className:"fal fa-long-arrow-left text-[15px]"})})}),(0,u.jsxs)("div",{className:"flex gap-10",children:[(0,u.jsx)("img",{className:"site-logo",src:(0,i.O)("LOGO"),alt:"Logo"}),(0,u.jsxs)("div",{className:"flex flex-col uppercase gap-2",children:[(0,u.jsx)("div",{className:"site-name color-font text-2xl font-semibold",children:m}),n&&(0,u.jsxs)("div",{className:"site-title text-blue-500 text-[11px] font-semibold",children:["> ",r]})]})]})]}),(0,u.jsx)(c.Z,{className:"w-40 h-40 p-0"})]})}var f=(0,r.memo)(m),h=n(86281),x=(0,a.ZP)("div")((function(e){e.theme,e.config;return{}}));function p(e){var t=e.title,n=(e.header,e.contentToolbar),a=e.content;return(0,u.jsxs)(x,{className:"flex flex-col h-full",children:[(0,u.jsx)(f,{title:t}),n&&n,(0,u.jsx)(h.Z,{className:"flex-1 overflow-auto bg-white",children:a&&a})]})}var g=(0,r.memo)(p)},64429:function(e,t,n){n.d(t,{wg:function(){return j},oj:function(){return k},UP:function(){return f},g0:function(){return y}});var a=n(1413),r=n(45987),i=n(78886),s=n(88391),o=n(69587),l=n.n(o),c=n(30253),u=n(23712),d=["name","type","label","defaultValue"];function m(e){var t=e.name,n=(e.type,e.label),s=e.defaultValue,o=void 0===s?"":s,m=(0,r.Z)(e,d),f=(0,i.Gc)(),h=f.control;f.setValue;return(0,u.jsx)(i.Qr,{name:t,defaultValue:o,control:h,render:function(e){var t=e.field;return(0,u.jsx)(c.Z,(0,a.Z)((0,a.Z)({},t),{},{value:l().isUndefined(t.value)?"":t.value,label:n,fullWidth:!0,className:"mt-8 mb-10",variant:"outlined"},m))}})}var f=(0,s.memo)(m),h=n(29439),x=n(76975),p=n(63387),g=n.n(p);function v(e){var t=e.name,n=e.label,r=e.options,l=void 0===r?[]:r,d=e.depends,m=void 0===d?[]:d,f=e.url,p=void 0===f?"":f,v=(0,i.Gc)(),j=v.control,b=v.watch,Z=v.setValue,y=v.getValues,N=(0,s.useState)(l),w=(0,h.Z)(N,2),S=w[0],T=w[1],k=b(m).filter((function(e){return e}));return(0,s.useEffect)((function(){if((0,o.isEmpty)(m))p.length>0&&g().get(p).then((function(e){var t=e.data;return T(t)}));else if((0,o.isEmpty)(k))T([]);else{var e=(0,o.zipObject)(m,k),n=(0,o.template)(p,{interpolate:/{([\s\S]+?)}/g})(e);g().get(n).then((function(e){var n=e.data;T(n),Z(t,y(t))}))}}),[JSON.stringify(k)]),(0,u.jsx)(i.Qr,{name:t,control:j,render:function(e){var t=e.field;return p&&0===S.length?(0,u.jsx)(c.Z,{label:n,fullWidth:!0,className:"mt-8 mb-10",variant:"outlined",placeholder:"Loading..."}):(0,u.jsx)(x.Z,(0,a.Z)((0,a.Z)({},t),{},{options:S,getOptionLabel:function(e){return(0,o.isPlainObject)(e)?e.label:(0,o.get)(S.filter((function(t){return t.value==e})),"0.label","")},onChange:function(e,n){n&&t.onChange(n.value)},onInputChange:function(e,n,a){""===n&&t.onChange("")},renderInput:function(e){return(0,u.jsx)(c.Z,(0,a.Z)((0,a.Z)({},e),{},{className:"mt-8 mb-10",variant:"outlined",label:n}))}}))}})}var j=(0,s.memo)(v),b=n(35431),Z=n(24520);var y=function(e){var t=e.name,n=e.label;return(0,u.jsx)(b.Z,{labelPlacement:"top",control:(0,u.jsx)(Z.Z,{name:t,className:"mt-8 mb-10"}),label:n})},N=n(86728),w=n(88859),S=n(79369),T=n(5919);var k=function(e){var t=e.form,n=(0,T.Z)("createForm, updateForm, hasForm, getFormValues"),r=(0,h.Z)(n,4),s=r[0],o=r[1],l=r[2],c=r[3],u=(0,N.Z)(),d=(0,i.qo)(),m=(0,i.cl)(),f=m.isDirty,x=m.dirtyFields,p=m.touchedFields,g=m.isSubmitted,v=m.isSubmitSuccessful,j=m.isSubmitting,b=m.submitCount,Z=m.isValid,y=m.isValidating,k=m.errors,V=(0,i.Gc)(),F=V.setValue,C=V.control,P=c(t),_=S.Z.cloneDeep({isDirty:f,dirtyFields:x,touchedFields:p,isSubmitted:g,isSubmitSuccessful:v,isSubmitting:j,submitCount:b,isValid:Z,isValidating:y,errors:k});return(0,w.Z)((function(){u?setTimeout((function(){P&&S.Z.map(P,(function(e,t){F(t,e)}))})):l(t)?o(t,(0,a.Z)({values:d},_)):s(t,(0,a.Z)({initialValues:C._defaultValues},_))}),[_,d]),null}},5919:function(e,t,n){var a=n(1413),r=n(35822),i=n(71141),s=(0,r.Z)((0,i.n)((function(e){return{forms:{},createForm:function(t,n){return e((function(e){e.forms[t]=(0,a.Z)({initialValues:{},values:_.isEmpty(n.initialValues)?{}:n.initialValues},n)}))},updateForm:function(t,n){return e((function(e){e.forms[t]=(0,a.Z)((0,a.Z)({},e.forms[t]),_.cloneDeep(n))}))}}})),{computed:{getFormById:function(){var e=this;return function(t){return e.forms[t]}},hasForm:function(){var e=this;return function(t){return _.has(e.forms,t)}},getFormValues:function(){var e=this;return function(t){var n;return null===(n=e.getFormById(t))||void 0===n?void 0:n.values}},getFormInitialValues:function(){var e=this;return function(t){var n;return null===(n=e.getFormById(t))||void 0===n?void 0:n.initialValues}}}});t.Z=s},24657:function(e,t,n){n.r(t),n.d(t,{default:function(){return X}});var a=n(29439),r=n(59464),i=n(88391),s=n(1413),o=n(45987),l=n(78886),c=n(64429),u=n(15866),d=n(95639),m=n(71027),f=n(18785),h=n(56240),x=n(92182),p=n(72369),g=n(15861),v=n(87757),j=n.n(v),b=n(35822),Z=n(47912),y=(n(63221),n(43144)),N=n(15671),w=n(63387),S=n.n(w),T=new((0,y.Z)((function e(){(0,N.Z)(this,e),this.getThuadatByInfo=function(e){return S().post("/api/thuadat-by-info",e)},this.getThuadatByLocation=function(e){return S().post("/api/thuadat-by-location",e)},this.getThuadatByCoords=function(e){return S().post("/api/thuadat-by-coords",e)}}))),k=(0,b.Z)((function(e,t){return{tabIndex:0,setTabIndex:function(t){return e({tabIndex:t})},provider:"meeymap",placeId:"",loading:!1,query:"",setQuery:function(t){return e({query:t})},resetAll:function(){e({query:"",searchData:{},autoSuggestData:{},geocodeData:{},placeOpen:!1,placeData:{}})},autoSuggestData:{},autoSuggest:function(){var n=(0,g.Z)(j().mark((function n(){var a,r,i,s;return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t(),r=a.query,i=a.searchProvider,e({loading:!0}),!(r.length>1)){n.next=9;break}return n.next=5,i.autoSuggest({query:r});case 5:s=n.sent,e({autoSuggestData:s}),n.next=10;break;case 9:e({autoSuggestData:[]});case 10:e({loading:!1});case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),placeOpen:!1,setPlaceOpen:function(t){return e({placeOpen:t})},placeData:{},getPlace:function(){var n=(0,g.Z)(j().mark((function n(a){var r,i,s,o;return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t(),i=r.searchProvider,e({loading:!0}),n.next=4,i.place({place_id:a});case 4:return s=n.sent,n.next=7,T.getThuadatByLocation({location:s.geometry.location});case 7:o=n.sent,console.log(o);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),getThuadatByInfo:function(){var t=(0,g.Z)(j().mark((function t(n){var a,r;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({loading:!0}),t.next=3,T.getThuadatByInfo(n);case 3:a=t.sent,r=a.data,console.log(r),e({loading:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getThuadatByCoords:function(){var t=(0,g.Z)(j().mark((function t(n){var a,r;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({loading:!0}),t.next=3,T.getThuadatByCoords(n);case 3:a=t.sent,r=a.data,console.log(r),e({loading:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),{computed:{searchProvider:function(){return new Z.a[this.provider]}}}),V=k,F=n(23712),C=["fields"];function P(e){var t=e.index,n=e.actions,r=(0,i.useState)(null),s=(0,a.Z)(r,2),o=s[0],l=s[1],c=Boolean(o),f=function(){return l(null)};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(u.Z,{size:"small",onClick:function(e){return l(e.currentTarget)},children:(0,F.jsx)(p.Z,{})}),(0,F.jsxs)(d.Z,{anchorEl:o,open:c,onClose:f,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,F.jsxs)(m.Z,{onClick:function(){f(),n.insert(t,{x:"",y:""})},children:[(0,F.jsx)("i",{className:"fa-solid fa-circle-plus text-blue mr-10 text-[20px]"})," Th\xeam d\xf2ng tr\xean"]}),(0,F.jsxs)(m.Z,{onClick:function(){f(),n.remove(t)},children:[(0,F.jsx)("i",{className:"fa-solid fa-circle-trash text-red mr-10 text-[20px]"})," X\xf3a d\xf2ng n\xe0y"]}),(0,F.jsxs)(m.Z,{onClick:function(){f(),n.insert(t+1,{x:"",y:""})},children:[(0,F.jsx)("i",{className:"fa-solid fa-circle-plus text-green mr-10 text-[20px]"})," Th\xeam d\xf2ng d\u01b0\u1edbi"]})]})]})}var _=function(){var e=V("getThuadatByCoords"),t=(0,l.cI)({defaultValues:{toados:[{x:"",y:""},{x:"",y:""},{x:"",y:""},{x:"",y:""}]}}),n=t.control,a=t.handleSubmit,r=(0,l.Dq)({control:n,name:"toados"}),i=r.fields,u=(0,o.Z)(r,C);return(0,F.jsx)("div",{className:"m-12",children:(0,F.jsx)(l.RV,(0,s.Z)((0,s.Z)({},t),{},{children:(0,F.jsxs)("form",{onSubmit:a(e),children:[(0,F.jsx)(x.Z,{severity:"warning",className:"text-xs flex items-center",children:"S\u1eed d\u1ee5ng h\u1ec7 t\u1ecda \u0111\u1ed9 Qu\u1ed1c gia VN2000 \u0111\u1ec3 t\xecm ki\u1ebfm"}),(0,F.jsxs)("table",{className:"mt-24 mx-12",children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("th",{className:"font-medium pr-12",children:"#"}),(0,F.jsx)("th",{className:"font-medium",children:"T\u1ecda \u0111\u1ed9 X"}),(0,F.jsx)("th",{className:"font-medium",children:"T\u1ecda \u0111\u1ed9 Y"}),(0,F.jsx)("th",{})]})}),(0,F.jsx)("tbody",{children:i.map((function(e,t){return(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{className:"w-24 pr-12",children:(0,F.jsx)("div",{className:"rounded-full bg-blue-400 text-white p-6 text-xs flex items-center justify-center w-20 h-20",children:t+1})}),(0,F.jsx)("td",{className:"px-8",children:(0,F.jsx)(c.UP,{name:"toados.".concat(t,".x"),variant:"standard",placeholder:"1199748.84"})}),(0,F.jsx)("td",{className:"px-8",children:(0,F.jsx)(c.UP,{name:"toados.".concat(t,".y"),variant:"standard",placeholder:"611245.93"})}),(0,F.jsx)("td",{children:(0,F.jsx)(P,{index:t,actions:u})})]},e.id)}))})]}),(0,F.jsx)(f.Z,{fullWidth:!0,className:"mt-24",children:"T\u1ea3i l\xean t\u1eadp tin t\u1ecda \u0111\u1ed9 t\u1eeb m\xe1y"}),(0,F.jsxs)(h.Z,{className:"flex justify-center mt-24 gap-12",children:[(0,F.jsx)(f.Z,{color:"secondary",variant:"outlined",children:"Nh\u1eadp l\u1ea1i"}),(0,F.jsx)(f.Z,{color:"primary",variant:"outlined",type:"submit",children:"T\xecm ki\u1ebfm"})]}),(0,F.jsx)(c.oj,{form:"toadoForm"})]})}))})};var I=function(){var e=V("getThuadatByInfo"),t=(0,l.cI)();return(0,F.jsx)("div",{className:"p-12",children:(0,F.jsxs)(l.RV,(0,s.Z)((0,s.Z)({},t),{},{children:[(0,F.jsx)(c.oj,{form:"sothuaForm"}),(0,F.jsxs)("form",{onSubmit:t.handleSubmit(e),children:[(0,F.jsx)(c.wg,{name:"ma_tp",label:"T\u1ec9nh/ TP",url:"/api/dir/hc-tinh"}),(0,F.jsx)(c.wg,{name:"ma_qh",label:"Qu\u1eadn huy\u1ec7n",url:"/api/dir/hc-quan?ma_tp={ma_tp}",depends:["ma_tp"]}),(0,F.jsx)(c.wg,{name:"ma_px",label:"Ph\u01b0\u1eddng x\xe3",url:"/api/dir/hc-phuong?ma_qh={ma_qh}",depends:["ma_qh"]}),(0,F.jsxs)("div",{className:"grid grid-cols-2 gap-12",children:[(0,F.jsx)(c.UP,{name:"sothua",label:"S\u1ed1 th\u1eeda \u0111\u1ea5t"}),(0,F.jsx)(c.UP,{name:"soto",label:"S\u1ed1 t\u1edd b\u1ea3n \u0111\u1ed3"})]}),(0,F.jsxs)(h.Z,{className:"flex justify-center mt-12 gap-12",children:[(0,F.jsx)(f.Z,{color:"secondary",variant:"outlined",children:"Nh\u1eadp l\u1ea1i"}),(0,F.jsx)(f.Z,{color:"primary",variant:"outlined",type:"submit",children:"T\xecm ki\u1ebfm"})]})]})]}))})},O=n(8991),B=n(31417),D=n(39533),q=n(7790),E=n(43747),z=n(86163),U=n(32885),A=n(5919),L=n(953),Q=n(69587),G=n.n(Q),W="diachiForm";var M=function(){var e=(0,A.Z)("getFormValues")(W),t=G().defaultTo(null===e||void 0===e?void 0:e.diachi,""),n=V("autoSuggestData, setQuery, autoSuggest, getPlace"),r=(0,a.Z)(n,4),i=r[0],o=r[1],d=r[2],m=r[3],f=(0,l.cI)({});(0,L.Z)((function(){o(t),d()}),400,[t]);var h=function(){var e=(0,g.Z)(j().mark((function e(t){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,F.jsxs)("div",{children:[(0,F.jsx)(l.RV,(0,s.Z)((0,s.Z)({},f),{},{children:(0,F.jsxs)("form",{onSubmit:f.handleSubmit(h),className:"p-12",children:[(0,F.jsx)(c.UP,{name:"diachi",label:"\u0110\u1ecba ch\u1ec9",InputProps:{endAdornment:(0,F.jsx)(O.Z,{position:"end",children:t.length>1?(0,F.jsx)(u.Z,{edge:"end",onClick:function(){return f.reset()},children:(0,F.jsx)(z.Z,{})}):(0,F.jsx)(U.Z,{})})}}),(0,F.jsx)(c.oj,{form:W})]})})),!G().isEmpty(i)&&(0,F.jsx)("div",{className:"border-t border-b",children:(0,F.jsx)(B.Z,{className:"divide-y p-0",children:G().map(i,(function(e,t){return(0,F.jsxs)(D.ZP,{button:!0,sx:{border:"inherit"},onClick:function(){return m(e.place_id)},children:[(0,F.jsx)(q.Z,{sx:{minWidth:36},children:(0,F.jsx)("svg",{width:24,height:24,xmlns:"http://www.w3.org/2000/svg",children:(0,F.jsx)("path",{fillRule:"evenodd",d:"M12 1a9 9 0 014.252 16.933c-1.719.918-3.151 2.893-3.77 4.704h-.001a.502.502 0 01-.962 0h-.001c-.619-1.811-2.051-3.786-3.77-4.704A9 9 0 0112 1zm0 6a3 3 0 110 6 3 3 0 010-6z",fill:"#fe9746"})})}),(0,F.jsx)(E.Z,{primary:e.main_text,secondary:G().upperFirst(e.secondary_text),secondaryTypographyProps:{className:"text-xs text-gray-500 pt-4"}})]},t)}))})})]})},R=n(30817),H=n(45681);var X=function(){var e=V("tabIndex, setTabIndex"),t=(0,a.Z)(e,2),n=t[0],i=t[1],s=[{label:"T\u1ecda \u0111\u1ed9",content:_},{label:"S\u1ed1 th\u1eeda \u0111\u1ea5t",content:I},{label:"\u0110\u1ecba ch\u1ec9",content:M}];return(0,F.jsx)(r.Z,{title:"T\xecm ki\u1ebfm th\u1eeda \u0111\u1ea5t",content:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(R.Z,{value:n,onChange:function(e,t){return i(t)},variant:"fullWidth",className:"border-b",children:s.map((function(e,t){var n=e.label;return(0,F.jsx)(H.Z,{className:"text-14 min-w-64 mx-4 px-12",label:n},t)}))}),(0,F.jsx)("div",{children:s.map((function(e,t){var a=e.content;return n===t&&(0,F.jsx)(a,{},t)}))})]})})}}}]);